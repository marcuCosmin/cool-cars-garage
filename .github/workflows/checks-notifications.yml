name: Run Check Notifications Job

on:
    schedule:
        - cron: "0 7 * * *"

jobs:
    run-notifications:
        runs-on: ubuntu-latest
        env:
            NODE_ENV: development
            FIREBASE_PRIVATE_KEY: ${{ secrets.FIREBASE_PRIVATE_KEY }}
        steps:
            - name: Checkout repository
              uses: actions/checkout@v4

            - name: Set up Node.js
              uses: actions/setup-node@v4
              with:
                  node-version: "20.15.0"

            - name: Build Project
              run: npm install && npm run build:express

            - name: Run notifications script
              run: node ./packages/express/dist/jobs/checks-notifications/index.js
